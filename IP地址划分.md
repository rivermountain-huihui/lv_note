# IP地址划分



## 1.A类、B类、C类地址的划分

一个总结表：IPV4是用4个字节32位来表示的

| 网络类别 | 规定开头的数字 | 规定网络地址字节数 | 地址开头 | 网络地址范围          | IP地址范围                  | 例如         |
| -------- | -------------- | ------------------ | -------- | --------------------- | --------------------------- | ------------ |
| A        | 0              | 1个字节            | 1~126    | 1 ~ 126               | 1.0.0.1 ~ 126.255.255.254   | 20.0.0.20    |
| B        | 10             | 2个字节            | 128~191  | 128.0 ~ 191.255       | 128.0.0.1 ~ 191.255.255.254 | 129.0.0.20   |
| C        | 110            | 3个字节            | 192~223  | 192.0.0 ~ 223.255.255 | 192.0.0.1 ~ 223.255.255.254 | 192.20.34.39 |
| D        | 1110           |                    | 224~239  |                       |                             | 多播地址     |
| E        | 1111           |                    | 240~255  |                       |                             | 保留地址     |

人为规定，没有其他原因，记住就好了

IP地址是由两部分组成：IP地址用32位表示，共4个字节

>网络地址+主机地址

主机地址的全0和全1代表特殊意义，不分配给主机。全0代表本网络段，全1代表本网络段的全部主机。

网络地址中只有A类地址的网络地址有两个是保留的，有特殊意义，其他B、C类的网络地址因为有提前的两三位设定了1和0，所以剩下的位里面全0和全1都是可以用的。

0.0.0.0代表所有主机 0.1.2.3这类的是被保留的，不使用；

127.0.0.1等等这类地址，127开头的都是回环地址，指向本机。

### **A类地址：一个字节的网络地址，三个字节的主机地址，但是规定第一位必须是0**

所以A类地址的范围是：

网络地址范围：第一个字节内

>0 0000001 ~ 0 1111110
>
>全部是0代表本网络，不能使用；全部是1代表所有网络；不可以使用
>
>所以一共有2^7-2=126个可用网络地址，1 ~ 126

主机地址范围：后三个字节内

>2^24-2
>
>3个字节24位，减去全0和全1两个地址，共计16777214个
>
>所以每一个A类网络地址内可以有一千六百多万个主机地址

总和起来看，A类地址是：

> 1.255.255.254 ~ 126.255.255.254 共计2,113,928,964个（20多亿）IP地址，占了IPV4地址的一半，IPV4地址一共40多亿

### **B类地址：两个字节的网络地址，两个字节的主机地址，但是规定前两位必须是10**

所以B类地址的范围是：

网络地址范围：

> 10 000000  00000000 ~ 10 111111  11111111 
>
> 128.0 ~ 191.255
>
> 一共有2^14=16384个可用网络地址

主机地址范围：后两个字节

> 2^16-2=65534
>
> 2个字节16位，减去两个地址，共计65534个
>
> 所以每一个B类网络地址内可以有六万多个主机地址

总和来看，B类地址是：

> 128.0.0.1 ~ 191.255.255.254 共计1,073,709,056（10亿多）IP地址，占了IPV4地址的一半

### **C类地址：三个字节的网络地址，一个字节的主机地址，但是规定前三位必须是110**

所以C类地址范围是：

网络地址范围：三个字节

> 110 00000  00000000  00000000 ~ 110 11111 11111111 11111111
>
> 192.0.0 ~ 223.255.255
>
> 一共2^21=2097152个可用网络地址

主机地址范围：一个字节

> 2^8-2=254
>
> 一个字节8位，减去两个地址，共254个
>
> 所以每一个C类地址内可以有254个主机地址

总和来说，C类地址是：

> 192.0.0.1 ~ 223.255.255.254 共计532,676,608（5亿多）IP地址，占了IPV4地址的1/8

## 2.公网地址和私网地址

首先，私网地址也是从A、B、C类地址里面分出来的，给局域网使用的IP地址，公网上不会使用这些IP地址。私网地址也是分A、B、C类的。

A类私网地址：10.0.0.0 ~ 10.255.255.255 提供了一个A类网络地址

B类私网地址：172.16.0.0 ~ 172.31.255.255 提供了16个B类网络地址

C类私网地址：192.168.0.0 ~ 192.168.255.255 提供了256个C类网络地址

私网地址相关的技术：

NAT：

> NAT:Network Address Translation 网络地址转换技术
>
> 功能：实现公网地址和私网地址的转换

CIDR：

> CIDR：Classless Inter-Domin Routing 无类域间路由
>
> 对IPV4地址的使用更加有效，不按照A,B,C类区分网络段，而是按照掩码长度计算

A类私网地址CIDR表示：10.0.0.0/8 可用地址2^24-2=16,777,214个，一千多万个 掩码是255.0.0.0

B类私网地址CIDR表示：172.16.0.0/12 可用地址2^20-2=1,048,574个，一百多万个 掩码是255.240.0.0

C类私网地址CIDR表示：192.168.0.0/16 可用地址2^16-2=65534个，六万多 掩码是255.255.0.0



## 3.子网划分

子网划分就是从主机地址里分地址出来，也就是借位

例如：

单位分配到一个地址块136.23.12.64/26，现在需要进一步划分为4个一样大的子网，则每个子网的网络前缀有多长，IP地址数，子网的地址段是什么？

根据/26可以知道掩码长26位，可以知道这个地址块也是子网划分来的；

根据划分4个子网知道需要借两个位，2^2=4;

所以：

1）子网IP地址应该是/28，掩码长28位，每个子网中有2^4个IP，也就是16个

2）把原本的地址拆成二进制看，

136.23.12.64/26 --> 136.23.12.01000000

现在掩码变成28，那么后8位这么写：

136.23.12.0100 0000 --> 136.23.12.64/28

136.23.12.0101 0000 --> 136.23.12.80/28

136.23.12.0110 0000 --> 136.23.12.96/28

136.23.12.0111 0000 --> 136.23.12.112/28